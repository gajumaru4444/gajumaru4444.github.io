<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <title>Visual Question Answering 2</title>
    <meta name="description" content="" />
    <link href="//fonts.googleapis.com/css?family=Noto+Sans:300,400,700" rel="stylesheet" type="text/css">
    <link href="//fonts.googleapis.com/css?family=Noto+Serif:400,700,400italic" rel="stylesheet" type="text/css">
    <link href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet">
    <link href="//gajumaru4444.github.io/themes/Saga/assets/css/style.css?v=1.0.0" rel="stylesheet" type="text/css">
    <link href="//gajumaru4444.github.io/themes/Saga/assets/css/animate.min.css?v=1.0.0" rel="stylesheet" type="text/css">
    <link href="//gajumaru4444.github.io/themes/Saga/favicon.ico" rel="shortcut icon">
    <link rel="canonical" href="https://gajumaru4444.github.io/2015/11/10/Visual-Question-Answering-2.html" />
    
    <meta property="og:site_name" content="gajumaru4444" />
    <meta property="og:type" content="article" />
    <meta property="og:title" content="Visual Question Answering 2" />
    <meta property="og:description" content="Prepare for VQA in Ubuntu 14.04 x64. In this Post, I want to install and test Keras. Keras is a minimalist, highly modular neural network library in the spirit of Torch, written in Python, that uses Theano under the..." />
    <meta property="og:url" content="https://gajumaru4444.github.io/2015/11/10/Visual-Question-Answering-2.html" />
    <meta property="article:published_time" content="2015-11-09T15:00:00.000Z" />
    <meta property="article:modified_time" content="2015-11-10T13:24:01.154Z" />
    <meta property="article:tag" content="VQA" />
    <meta property="article:tag" content="DNN" />
    <meta property="article:tag" content="RNN" />
    <meta property="article:tag" content="CNN" />
    <meta property="article:tag" content="Python" />
    <meta property="article:tag" content="Keras" />
    <meta property="article:tag" content="Theano" />
    
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="Visual Question Answering 2" />
    <meta name="twitter:description" content="Prepare for VQA in Ubuntu 14.04 x64. In this Post, I want to install and test Keras. Keras is a minimalist, highly modular neural network library in the spirit of Torch, written in Python, that uses Theano under the..." />
    <meta name="twitter:url" content="https://gajumaru4444.github.io/2015/11/10/Visual-Question-Answering-2.html" />
    
    <script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "Article",
    "publisher": "gajumaru4444",
    "author": {
        "@type": "Person",
        "name": "Kouya Onodera",
        "image": "https://avatars.githubusercontent.com/u/3026029?v=3",
        "url": "undefined/author/undefined",
        "sameAs": null
    },
    "headline": "Visual Question Answering 2",
    "url": "https://gajumaru4444.github.io/2015/11/10/Visual-Question-Answering-2.html",
    "datePublished": "2015-11-09T15:00:00.000Z",
    "dateModified": "2015-11-10T13:24:01.154Z",
    "keywords": "VQA,  DNN,  RNN,  CNN,  Python,  Keras,  Theano",
    "description": "Prepare for VQA in Ubuntu 14.04 x64. In this Post, I want to install and test Keras. Keras is a minimalist, highly modular neural network library in the spirit of Torch, written in Python, that uses Theano under the..."
}
    </script>

    <meta name="generator" content="Ghost ?" />
    <link rel="alternate" type="application/rss+xml" title="gajumaru4444" href="https://gajumaru4444.github.io/rss" />
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/styles/default.min.css">
</head>
<body class="post-template tag-VQA tag-DNN tag-RNN tag-CNN tag-Python tag-Keras tag-Theano">
    <header id="header" class="animated fadeIn">
    <div class="header-background">
    <section class="blog-content">
        <a id="site-url" class="blog-title" href="https://gajumaru4444.github.io">gajumaru4444</a>
        <span class="blog-description"></span>
        <nav class="links fadeIn animated">
            <ul>
                <!-- <li class="rss"><a title="RSS Feed" href="/rss/"><i class="fa fa-fw fa-rss-square"></i></a></li> -->
        
            </ul>
        </nav>
    </section>
    <section class="header-content">
        <h1 class="post-title animated fadeInUp">Visual Question Answering 2</h1>
        <span class="post-data"><span class="date animated fadeInUp"><i class="fa fa-clock-o"></i> <time class="timesince date" data-timesince="1447081200" datetime="2015-11-10T00:00" title="10 November 2015">2015-11-10 00:00:00<ago class="ago"></time></span>
            <span class="tags animated fadeInUp"><i class="fa fa-tags"></i> <a href="https://gajumaru4444.github.io/tag/VQA">VQA</a>, <a href="https://gajumaru4444.github.io/tag/DNN"> DNN</a>, <a href="https://gajumaru4444.github.io/tag/RNN"> RNN</a>, <a href="https://gajumaru4444.github.io/tag/CNN"> CNN</a>, <a href="https://gajumaru4444.github.io/tag/Python"> Python</a>, <a href="https://gajumaru4444.github.io/tag/Keras"> Keras</a>, <a href="https://gajumaru4444.github.io/tag/Theano"> Theano</a></span>
            <span class="author animated fadeInUp"><i class="fa fa-user"></i> <a href="">Kouya Onodera</a></span></span>
    </section>
    </div>
</header>
<main id="main" class="content">
    <article itemtype="http://schema.org/BlogPosting" class="animated fadeIn content post post tag-VQA tag-DNN tag-RNN tag-CNN tag-Python tag-Keras tag-Theano">
        <section class="post-content">
            <div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Prepare for VQA in Ubuntu 14.04 x64.<br>
In this Post, I want to install and test Keras.<br></p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>Keras is a minimalist, highly modular neural network library in the spirit of Torch, written in Python, that uses Theano under the hood for optimized tensor manipulation on GPU and CPU. It was developed with a focus on enabling fast experimentation.</p>
</div>
</blockquote>
<div class="attribution">
&#8212; Keras Documentation<br>
<cite>http://keras.io/</cite>
</div>
</div>
<div class="paragraph">
<p>Keras uses the following dependencies:<br></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>numpy</strong></p>
</li>
<li>
<p><strong>scipy</strong></p>
</li>
<li>
<p><strong>pyyaml</strong></p>
</li>
<li>
<p><strong>Theano</strong></p>
</li>
<li>
<p><strong>HDF5</strong> and <strong>h5py</strong> (optional, required if you use model saving/loading functions)</p>
</li>
<li>
<p>Optional but recommended if you use CNNs: <strong>cuDNN</strong></p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_install_miniconda">Install miniconda</h3>
<div class="listingblock console">
<div class="content">
<pre class="highlight"><code>$ wget https://repo.continuum.io/miniconda/Miniconda-latest-Linux-`uname -p`.sh
$ bash Miniconda-latest-Linux-`uname -p`.sh
$ source ~/.bashrc</code></pre>
</div>
</div>
<div class="paragraph">
<p>See also <a href="http://conda.pydata.org/docs/install/quick.html">the install guide</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_install_theano">Install Theano</h3>
<div class="listingblock console">
<div class="content">
<pre class="highlight"><code>$ sudo apt-get install git
$ pip install git+git://github.com/Theano/Theano.git</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_install_h5py">Install h5py</h3>
<div class="listingblock console">
<div class="content">
<pre class="highlight"><code>$ conda install -y h5py</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_install_keras">Install Keras</h3>
<div class="listingblock console">
<div class="content">
<pre class="highlight"><code>$ pip install keras</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_install_g_optional">Install g++ (optional)</h3>
<div class="listingblock console">
<div class="content">
<pre class="highlight"><code>$ sudo apt-get install g++</code></pre>
</div>
</div>
<div class="paragraph">
<p>Without g++, you will get this message when run Keras and Keras will be very slow.</p>
</div>
<div class="listingblock console">
<div class="content">
<pre class="highlight"><code>WARNING (theano.configdefaults): g++ not detected ! Theano will be unable to execute optimized C-implementations (for both CPU and GPU) and will default to Python implementations. Performance will be severely degraded. To remove this warning, set Theano flags cxx to an empty string.</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_test_keras">Test Keras</h3>
<div class="listingblock console">
<div class="content">
<pre class="highlight"><code>$ curl -sSL https://github.com/fchollet/keras/raw/master/examples/mnist_mlp.py | python</code></pre>
</div>
</div>
<div class="paragraph">
<p>The result here.</p>
</div>
<div class="listingblock console">
<div class="content">
<pre class="highlight"><code>60000 train samples
10000 test samples
Train on 60000 samples, validate on 10000 samples
Epoch 1/20
8s - loss: 0.4356 - acc: 0.8716 - val_loss: 0.1863 - val_acc: 0.9421
Epoch 2/20
7s - loss: 0.1961 - acc: 0.9414 - val_loss: 0.1274 - val_acc: 0.9601
Epoch 3/20
7s - loss: 0.1451 - acc: 0.9564 - val_loss: 0.1010 - val_acc: 0.9691
Epoch 4/20
8s - loss: 0.1189 - acc: 0.9642 - val_loss: 0.0847 - val_acc: 0.9752
Epoch 5/20
8s - loss: 0.1019 - acc: 0.9691 - val_loss: 0.0850 - val_acc: 0.9735
Epoch 6/20
8s - loss: 0.0903 - acc: 0.9721 - val_loss: 0.0749 - val_acc: 0.9777
Epoch 7/20
8s - loss: 0.0822 - acc: 0.9745 - val_loss: 0.0753 - val_acc: 0.9762
Epoch 8/20
7s - loss: 0.0758 - acc: 0.9762 - val_loss: 0.0743 - val_acc: 0.9796
Epoch 9/20
7s - loss: 0.0705 - acc: 0.9780 - val_loss: 0.0720 - val_acc: 0.9784
Epoch 10/20
8s - loss: 0.0648 - acc: 0.9790 - val_loss: 0.0688 - val_acc: 0.9793
Epoch 11/20
8s - loss: 0.0592 - acc: 0.9819 - val_loss: 0.0663 - val_acc: 0.9797
Epoch 12/20
8s - loss: 0.0567 - acc: 0.9824 - val_loss: 0.0677 - val_acc: 0.9815
Epoch 13/20
8s - loss: 0.0536 - acc: 0.9833 - val_loss: 0.0711 - val_acc: 0.9796
Epoch 14/20
8s - loss: 0.0520 - acc: 0.9834 - val_loss: 0.0684 - val_acc: 0.9806
Epoch 15/20
9s - loss: 0.0500 - acc: 0.9837 - val_loss: 0.0664 - val_acc: 0.9807
Epoch 16/20
7s - loss: 0.0471 - acc: 0.9850 - val_loss: 0.0683 - val_acc: 0.9809
Epoch 17/20
7s - loss: 0.0449 - acc: 0.9856 - val_loss: 0.0682 - val_acc: 0.9812
Epoch 18/20
8s - loss: 0.0433 - acc: 0.9860 - val_loss: 0.0675 - val_acc: 0.9813
Epoch 19/20
7s - loss: 0.0401 - acc: 0.9869 - val_loss: 0.0683 - val_acc: 0.9819
Epoch 20/20
8s - loss: 0.0383 - acc: 0.9874 - val_loss: 0.0705 - val_acc: 0.9820
Test score: 0.0704572771238
Test accuracy: 0.982</code></pre>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">AttributeError</div>
<div class="ulist">
<ul>
<li>
<p>keras-0.2.0</p>
</li>
<li>
<p>theano-0.7.0</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>When I installed Theano from miniconda,<br></p>
</div>
<div class="listingblock console">
<div class="content">
<pre class="highlight"><code>$ conda install -y theano</code></pre>
</div>
</div>
<div class="paragraph">
<p>got this error during th test.</p>
</div>
<div class="listingblock console">
<div class="content">
<pre class="highlight"><code>AttributeError: 'module' object has no attribute 'relu'</code></pre>
</div>
</div>
<div class="paragraph">
<p>I solved the error by re-installing with pip from github.</p>
</div>
<div class="listingblock console">
<div class="content">
<pre class="highlight"><code>$ conda uninstall theano
$ sudo apt-get install git
$ pip install git+git://github.com/Theano/Theano.git</code></pre>
</div>
</div>
</div>
</div>
<hr>
<div class="paragraph">
<p><span class="big">References</span><br></p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="http://ermaker.github.io/blog/2015/09/08/get-started-with-keras-for-beginners.html" class="bare">http://ermaker.github.io/blog/2015/09/08/get-started-with-keras-for-beginners.html</a></p>
</li>
<li>
<p><a href="http://keras.io/" class="bare">http://keras.io/</a></p>
</li>
<li>
<p><a href="http://conda.pydata.org/docs/install/quick.html" class="bare">http://conda.pydata.org/docs/install/quick.html</a></p>
</li>
</ul>
</div>
<hr>
</div>
        </section>

    </article>

</main>
    <footer class="animated fadeIn" id="footer">
        <section class="colophon">
          <section class="copyright">Copyright &copy; <span itemprop="copyrightHolder">gajumaru4444</span>. <span rel="license">All Rights Reserved</span>.</section>
          <section class="poweredby">Published with <a class="icon-ghost" href="http://hubpress.io">HubPress</a></section>
        </section>
        <section class="bottom">
          <section class="attribution">
            <a href="http://github.com/Reedyn/Saga">Built with <i class="fa fa-heart"></i> and Free and Open-Source Software</a>.
          </section>
        </section>
    </footer>
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js?v="></script> <script src="//cdnjs.cloudflare.com/ajax/libs/moment.js/2.9.0/moment-with-locales.min.js?v="></script> <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/highlight.min.js?v="></script> 
      <script type="text/javascript">
        jQuery( document ).ready(function() {
          // change date with ago
          jQuery('ago.ago').each(function(){
            var element = jQuery(this).parent();
            element.html( moment(element.text()).fromNow());
          });
        });

        hljs.initHighlightingOnLoad();      
      </script>
    <script src="//gajumaru4444.github.io/themes/Saga/assets/js/scripts.js?v=1.0.0"></script>
    
</body>
</html>
